# Glosario de Datos del Sistema
# Template Omega 2.0 - Fase 2: Datos (Vista 游닍)
# Formato: YAML ejecutable

_metadata:
  sistema: "[Nombre del Sistema]"
  version: "1.0"
  fecha: "[YYYY-MM-DD]"
  autor: "[Nombre]"

# =============================================================================
# ENTIDADES
# =============================================================================

entidades:
  # --- Ejemplo de Entidad Tipo Persona ---
  - id: ENT-001
    nombre: "Ciudadano"
    nombre_plural: "Ciudadanos"
    tipo: Persona # [Persona | Documento | Evento | Recurso | Concepto | Lugar]
    descripcion: "Individuo que interact칰a con el sistema como beneficiario o solicitante"
    identidad: ID # [ID | Valor] - 쯉e distingue por clave 칰nica o por contenido?
    due침o: "Registro Civil" # 쯈ui칠n es responsable de su integridad?
    estados: [] # Vac칤o si es inmutable
    atributos:
      - nombre: rut
        tipo: Identificador
        obligatorio: true
      - nombre: nombre_completo
        tipo: Texto
        obligatorio: true

  # --- Ejemplo de Entidad Tipo Documento con Estados ---
  - id: ENT-002
    nombre: "Solicitud"
    nombre_plural: "Solicitudes"
    tipo: Documento
    descripcion: "Petici칩n formal de un ciudadano para obtener un servicio"
    identidad: ID
    due침o: "Oficina de Partes"
    estados: ["Borrador", "Ingresada", "En Evaluaci칩n", "Aprobada", "Rechazada"]
    atributos:
      - nombre: fecha_ingreso
        tipo: Fecha
        obligatorio: true
      - nombre: monto_solicitado
        tipo: Moneda
        obligatorio: false

  # --- Agregar m치s entidades aqu칤 ---
  # - id: ENT-003
  #   nombre: "[...]"

# =============================================================================
# RELACIONES
# =============================================================================

relaciones:
  - id: REL-001
    nombre: "presenta"
    desde: ENT-001 # Ciudadano
    hacia: ENT-002 # Solicitud
    cardinalidad: "1:N" # Un ciudadano puede presentar muchas solicitudes
    descripcion: "Un Ciudadano presenta una o m치s Solicitudes"

  # --- Agregar m치s relaciones aqu칤 ---
  # - id: REL-002
  #   nombre: "[verbo]"
  #   desde: ENT-XXX
  #   hacia: ENT-YYY

# =============================================================================
# INVARIANTES (Reglas que SIEMPRE deben cumplirse)
# =============================================================================

invariantes:
  - id: INV-001
    descripcion: "Toda Solicitud debe tener exactamente un Ciudadano asociado"
    afecta: [ENT-002, REL-001]
    severidad: ERROR # [ERROR | WARNING]

  - id: INV-002
    descripcion: "Una Solicitud Aprobada no puede volver a estado Borrador"
    afecta: [ENT-002]
    severidad: ERROR

# =============================================================================
# VALIDACI칍N
# =============================================================================

_validacion:
  - check: "Cada sustantivo del Canvas de Prop칩sito tiene entrada aqu칤"
    status: "[OK | PENDIENTE]"
  - check: "Cada entidad tiene al menos 1 atributo definido"
    status: "[OK | PENDIENTE]"
  - check: "Cada entidad con estados tiene al menos 2 estados"
    status: "[OK | PENDIENTE]"
